<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Exclusion Table — exclusion_table • ExclusionTable</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Exclusion Table — exclusion_table"><meta name="description" content="This function keeps track of how many observations you exclude by using
specific inclusion and exclusion criteria. It assumes that your criteria
are logical filter statements, i.e. statements that you would pass to
dplyr::filter() or to {data.table}."><meta property="og:description" content="This function keeps track of how many observations you exclude by using
specific inclusion and exclusion criteria. It assumes that your criteria
are logical filter statements, i.e. statements that you would pass to
dplyr::filter() or to {data.table}."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ExclusionTable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ExclusionTable_vignette.html">{ExclusionTable} a package for keeping track of exclusions and inclusions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/entjos/ExclusionTable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Exclusion Table</h1>
      <small class="dont-index">Source: <a href="https://github.com/entjos/ExclusionTable/blob/main/R/exclusion_table.R" class="external-link"><code>R/exclusion_table.R</code></a></small>
      <div class="d-none name"><code>exclusion_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function keeps track of how many observations you exclude by using
specific inclusion and exclusion criteria. It assumes that your criteria
are logical filter statements, i.e. statements that you would pass to
<code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code> or to <code>{data.table}</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">exclusion_table</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  inclusion_criteria <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclusion_criteria <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  labels_inclusion <span class="op">=</span> <span class="va">inclusion_criteria</span>,</span>
<span>  labels_exclusion <span class="op">=</span> <span class="va">exclusion_criteria</span>,</span>
<span>  obj <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keep_data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  id <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A dataframe on which the exclusions are to be performed.</p></dd>


<dt id="arg-inclusion-criteria">inclusion_criteria<a class="anchor" aria-label="anchor" href="#arg-inclusion-criteria"></a></dt>
<dd><p>A character vector of logical expressions that are used for
inclusions. All individuals who meet these criteria will be included.
Specifically, observations for which the logical expression is <code>FALSE</code>
will be excluded. Please keep in mind how your expression will handle
<code>NA</code> values.</p></dd>


<dt id="arg-exclusion-criteria">exclusion_criteria<a class="anchor" aria-label="anchor" href="#arg-exclusion-criteria"></a></dt>
<dd><p>A character vector of logical expressions that are used for
exclusions. All observations who meet this
criteria will be excluded. Specifically, observations for which the
logical expression is <code>TRUE</code> will be excluded. Please keep in mind
how your expression will handle <code>NA</code> values.</p></dd>


<dt id="arg-labels-inclusion">labels_inclusion<a class="anchor" aria-label="anchor" href="#arg-labels-inclusion"></a></dt>
<dd><p>An optional character vector of labels that are used to label the
steps of inclusions. The default labels are the logical expressions
passed to <code>inclusion_criteria</code></p></dd>


<dt id="arg-labels-exclusion">labels_exclusion<a class="anchor" aria-label="anchor" href="#arg-labels-exclusion"></a></dt>
<dd><p>An optional character vector of labels that are used to label the
steps of exclusions. The default labels are the logical expressions
passed to <code>exclusion_criteria</code>.</p></dd>


<dt id="arg-obj">obj<a class="anchor" aria-label="anchor" href="#arg-obj"></a></dt>
<dd><p>A named list of objects that will be passed to the filtering call.
The list can be access using <code>obj$&lt;name of object&gt;</code> in the filtering
call.</p></dd>


<dt id="arg-keep-data">keep_data<a class="anchor" aria-label="anchor" href="#arg-keep-data"></a></dt>
<dd><p>A logical statement to indicate whether the new dataset without the
excluded observations should be outputted. The default is <code>TRUE</code>.</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>Optional name of a unique ID variable in the dataset.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>exclusion_table</code> returns a <code>exl_tbl</code> object which is a list of
data frames including the following information:</p>
<dl><dt><code>table_in</code></dt>
<dd><p>a <code>data.frame</code> including the number of observations
excluded for each inclusion criteria listed in <code>inclusion_criteria</code>.</p></dd>

<dt><code>table_ex</code></dt>
<dd><p>a <code>data.frame</code> including the number of observations
excluded for each exclusion criteria listed in <code>exclusion_criteria</code>.</p></dd>

<dt><code>dataset</code></dt>
<dd><p>a <code>data.frame</code> of the supplied dataset after applying
all inclusion and exclusion criteria.</p></dd>


</dl><p>If <code>id</code> is supplied, an additional column is added to <code>table_in</code> and
<code>table_ex</code> including a list of the IDs that have been excluded from
the dataset in each step.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Example without using the obj argument</span></span></span>
<span class="r-in"><span><span class="fu">exclusion_table</span><span class="op">(</span></span></span>
<span class="r-in"><span>   data <span class="op">=</span> <span class="va">mtcars</span>,</span></span>
<span class="r-in"><span>   exclusion_criteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"disp &lt;= 70 | disp &gt;= 300"</span>,</span></span>
<span class="r-in"><span>                          <span class="st">"as.character(gear) == '4'"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   labels_exclusion   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"First exclusion"</span>,</span></span>
<span class="r-in"><span>                          <span class="st">"Second exclusion"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> =============================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Excluded the following observations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> =============================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exclusions based on EXCLUSION criteria</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          exclusion n_prior n_post n_excluded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  First exclusion      32     21         11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Second exclusion      21      9         12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            TOTAL      32      9         23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> =============================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Example using the obj argument</span></span></span>
<span class="r-in"><span><span class="va">my_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">exclusion_table</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mtcars</span>,</span></span>
<span class="r-in"><span>  exclusion_criteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl %in% my_selection"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  labels_exclusion   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"First exclusion"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  obj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>my_selection <span class="op">=</span> <span class="va">my_selection</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(parse(text = filter_string)):</span> object 'my_selection' not found</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua P. Entrop.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

